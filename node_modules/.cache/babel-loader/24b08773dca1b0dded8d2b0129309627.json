{"ast":null,"code":"var _jsxFileName = \"/home/madhavi/Documents/jira-assignment/JIRA-Assignment/src/component/projects.js\";\nimport React from 'react';\nimport FetchApi from '../utility/fetchApi';\n\nclass Projects extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      projects: [],\n      length: ''\n    };\n\n    this.showProject = () => {\n      console.log(\"state : \", this.state.projects);\n    };\n  }\n\n  componentDidMount() {\n    let url = localStorage.getItem('url');\n    let listOfProjects = [];\n    let projectLength = 0;\n    FetchApi.callApi(\"\".concat(url, \"/rest/api/3/project\")).then(res => {\n      // console.log(\"res\",res);\n      // console.log(\"res length : \",res.length);\n      projectLength = res.length;\n\n      for (let i = 0; i < res.length; i++) {\n        console.log(res[i].key);\n        listOfProjects.push(res[i].key);\n        console.log(res[i].name);\n      }\n\n      this.setState({\n        length: projectLength\n      });\n      this.setState({\n        projects: [...this.state.projects, listOfProjects]\n      }); //this.showProject();\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    debugger;\n    let project;\n\n    if (this.state.projects[0].length > 0) {\n      project = this.state.projects.map(id => React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, id));\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"List of Projects\"), project);\n  }\n\n}\n\nexport default Projects;","map":{"version":3,"sources":["/home/madhavi/Documents/jira-assignment/JIRA-Assignment/src/component/projects.js"],"names":["React","FetchApi","Projects","Component","state","projects","length","showProject","console","log","componentDidMount","url","localStorage","getItem","listOfProjects","projectLength","callApi","then","res","i","key","push","name","setState","catch","error","render","project","map","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AAEA,MAAMC,QAAN,SAAuBF,KAAK,CAACG,SAA7B,CAAsC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE3B;AACHC,MAAAA,QAAQ,EAAC,EADN;AAEHC,MAAAA,MAAM,EAAC;AAFJ,KAF2B;;AAAA,SAMlCC,WANkC,GAMtB,MAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuB,KAAKL,KAAL,CAAWC,QAAlC;AAEH,KATiC;AAAA;;AAUlCK,EAAAA,iBAAiB,GAAE;AAEf,QAAIC,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAV;AACA,QAAIC,cAAc,GAAG,EAArB;AACA,QAAIC,aAAa,GAAC,CAAlB;AACAd,IAAAA,QAAQ,CAACe,OAAT,WAAoBL,GAApB,0BACCM,IADD,CACMC,GAAG,IAAG;AACR;AACA;AACAH,MAAAA,aAAa,GAAGG,GAAG,CAACZ,MAApB;;AACA,WAAI,IAAIa,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,GAAG,CAACZ,MAAlB,EAAyBa,CAAC,EAA1B,EAA6B;AACzBX,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,CAAD,CAAH,CAAOC,GAAnB;AACAN,QAAAA,cAAc,CAACO,IAAf,CAAoBH,GAAG,CAACC,CAAD,CAAH,CAAOC,GAA3B;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,CAAD,CAAH,CAAOG,IAAnB;AACH;;AACD,WAAKC,QAAL,CAAc;AAACjB,QAAAA,MAAM,EAACS;AAAR,OAAd;AACA,WAAKQ,QAAL,CAAc;AAAClB,QAAAA,QAAQ,EAAC,CAAC,GAAG,KAAKD,KAAL,CAAWC,QAAf,EAAwBS,cAAxB;AAAV,OAAd,EAVQ,CAWR;AACH,KAbD,EAaGU,KAbH,CAaSC,KAAK,IAAG;AACbjB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAZ;AACH,KAfD;AAgBH;;AACDC,EAAAA,MAAM,GAAE;AACJ;AACA,QAAIC,OAAJ;;AACA,QAAG,KAAKvB,KAAL,CAAWC,QAAX,CAAoB,CAApB,EAAuBC,MAAvB,GAAgC,CAAnC,EAAqC;AACjCqB,MAAAA,OAAO,GACP,KAAKvB,KAAL,CAAWC,QAAX,CAAoBuB,GAApB,CAAwBC,EAAE,IACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASA,EAAT,CADJ,CADA;AAKH;;AAID,WACI,0CACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,EAECF,OAFD,CADJ;AAMH;;AAnDiC;;AAsDtC,eAAezB,QAAf","sourcesContent":["import React from 'react';\nimport FetchApi from '../utility/fetchApi';\n\nclass Projects extends React.Component{\n\n    state ={\n        projects:[],\n        length:''\n    }\n    showProject=()=>{\n        console.log(\"state : \",this.state.projects);\n        \n    }\n    componentDidMount(){\n        \n        let url = localStorage.getItem('url');\n        let listOfProjects = [];\n        let projectLength=0;\n        FetchApi.callApi(`${url}/rest/api/3/project`)\n        .then(res =>{\n            // console.log(\"res\",res);\n            // console.log(\"res length : \",res.length);\n            projectLength = res.length;\n            for(let i=0;i<res.length;i++){\n                console.log(res[i].key);\n                listOfProjects.push(res[i].key);\n                console.log(res[i].name);\n            }\n            this.setState({length:projectLength});\n            this.setState({projects:[...this.state.projects,listOfProjects]})\n            //this.showProject();\n        }).catch(error =>{\n            console.log(error);\n        })\n    }\n    render(){\n        debugger;\n        let project;\n        if(this.state.projects[0].length > 0){\n            project =\n            this.state.projects.map(id => (\n                <button>{id}</button>\n            ))\n            \n        }\n       \n        \n    \n        return(\n            <>\n            <h2>List of Projects</h2>\n            {project}\n            </>\n        )\n    }\n}\n\nexport default Projects;"]},"metadata":{},"sourceType":"module"}